[gd_scene load_steps=6 format=2]

[ext_resource path="res://world/world.gd" type="Script" id=1]
[ext_resource path="res://world/terrain/test_set.tres" type="TileSet" id=2]
[ext_resource path="res://world/structures/terrain.gd" type="Script" id=3]
[ext_resource path="res://world/structures/FloatingIsland.tscn" type="PackedScene" id=4]

[sub_resource type="Animation" id=1]

resource_name = "day-night-cycle"
length = 6.0
loop = true
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath("CanvasModulate:color")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.8, 3, 4 ),
"transitions": PoolRealArray( 6.9644, 0.999999, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 0.588235, 0.533333, 0.533333, 1 ), Color( 0.337255, 0.337255, 0.337255, 1 ), Color( 0.337255, 0.337255, 0.337255, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Background/Sky/ColorRect:color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1.8, 3, 3.00563, 4 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0.298039, 0.670588, 0.92549, 1 ), Color( 0.188235, 0.494118, 0.694118, 1 ), Color( 0.054902, 0.14902, 0.215686, 1 ), Color( 0.054902, 0.14902, 0.215686, 1 ), Color( 0.054902, 0.14902, 0.215686, 1 ) ]
}

[node name="world" type="Node"]
script = ExtResource( 1 )

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 1, 1, 1, 1 )
_sections_unfolded = [ "Z Index" ]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("..")
autoplay = "day-night-cycle"
playback_process_mode = 1
playback_default_blend_time = 0.0
playback_speed = 0.5
anims/day-night-cycle = SubResource( 1 )
blend_times = [  ]
_sections_unfolded = [ "Playback Options" ]

[node name="Background" type="ParallaxBackground" parent="."]
layer = -1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )
transform = Transform2D( 1, 0, 0, 1, 0, 0 )
scroll_offset = Vector2( 0, 0 )
scroll_base_offset = Vector2( 0, 0 )
scroll_base_scale = Vector2( 1, 1 )
scroll_limit_begin = Vector2( 0, 0 )
scroll_limit_end = Vector2( 0, 0 )
scroll_ignore_camera_zoom = true
_sections_unfolded = [ "Scroll" ]

[node name="Sky" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 1, 1 )
motion_offset = Vector2( 0, 0 )
motion_mirroring = Vector2( 2000, 1000 )
_sections_unfolded = [ "Material", "Motion", "material" ]

[node name="ColorRect" type="ColorRect" parent="Background/Sky"]
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 2000.0
margin_bottom = 1000.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 0
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1
color = Color( 0.298039, 0.670588, 0.92549, 1 )
_sections_unfolded = [ "Visibility" ]

[node name="Clouds" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 1, 1 )
motion_offset = Vector2( 0, 0 )
motion_mirroring = Vector2( 2000, 1000 )
_sections_unfolded = [ "Material", "Motion", "material" ]

[node name="Islands" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 1, 1 )
motion_offset = Vector2( 0, 0 )
motion_mirroring = Vector2( 2000, 1000 )
_sections_unfolded = [ "Material", "Motion", "material" ]

[node name="Clouds2" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 1, 1 )
motion_offset = Vector2( 0, 0 )
motion_mirroring = Vector2( 2000, 1000 )
_sections_unfolded = [ "Material", "Motion", "material" ]

[node name="terrain" type="TileMap" parent="."]
mode = 0
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
cell_quadrant_size = 16
cell_custom_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
cell_half_offset = 2
cell_tile_origin = 0
cell_y_sort = false
cell_clip_uv = false
collision_use_kinematic = false
collision_friction = 1.0
collision_bounce = 0.0
collision_layer = 1
collision_mask = 1
occluder_light_mask = 1
format = 1
tile_data = PoolIntArray( -983031, 4, 0, -983030, 4, 0, -983029, 4, 0, -917496, 4, 0, -917492, 4, 0, -851960, 4, 0, -851956, 4, 0, -786423, 4, 0, -786421, 4, 0, -720886, 4, 0, -589842, 3, 0, -589841, 3, 0, -589840, 3, 0, -589839, 3, 0, -589838, 3, 0, -655351, 4, 0, -655350, 4, 0, -655349, 4, 0, -524307, 3, 0, -524306, 3, 0, -524305, 2, 0, -524304, 2, 0, -524303, 2, 0, -524302, 3, 0, -524301, 3, 0, -589816, 4, 0, -589814, 4, 0, -589812, 4, 0, -458772, 3, 0, -458771, 3, 0, -458770, 2, 0, -458769, 2, 0, -458768, 2, 0, -458767, 2, 0, -458766, 2, 0, -458765, 3, 0, -458764, 3, 0, -524281, 4, 0, -524278, 4, 0, -524275, 4, 0, -524254, 3, 0, -524253, 2, 0, -524252, 2, 0, -524251, 2, 0, -524250, 3, 0, -393237, 3, 0, -393236, 3, 0, -393235, 5, 0, -393234, 4, 0, -393233, 4, 0, -393232, 5, 0, -393231, 5, 0, -393230, 5, 0, -393229, 5, 0, -393228, 3, 0, -393227, 3, 0, -458745, 4, 0, -458742, 4, 0, -458739, 4, 0, -458718, 3, 0, -458717, 3, 0, -458716, 3, 0, -458715, 3, 0, -458714, 3, 0, -327699, 5, 0, -327698, 4, 0, -327697, 4, 0, -327696, 4, 0, -327695, 4, 0, -327694, 4, 0, -327693, 5, 0, -393206, 4, 0, -393182, 3, 0, -393181, 2, 0, -393180, 2, 0, -393179, 2, 0, -393178, 3, 0, -262168, 536870917, 0, -262167, 536870917, 0, -262166, 536870917, 0, -262165, 536870917, 0, -262163, 5, 0, -262162, 4, 0, -262161, 4, 0, -262160, 4, 0, -262159, 4, 0, -262158, 4, 0, -262157, 5, 0, -327671, 4, 0, -327669, 4, 0, -327655, 5, 0, -327654, 5, 0, -327653, 5, 0, -327646, 3, 0, -327645, 2, 0, -327644, 2, 0, -327643, 2, 0, -327642, 3, 0, -327638, 536870917, 0, -327637, 536870917, 0, -327636, 536870917, 0, -327635, 536870917, 0, -196631, 536870917, 0, -196630, 536870917, 0, -196627, 5, 0, -196626, 5, 0, -196625, 5, 0, -196624, 5, 0, -196623, 4, 0, -196622, 4, 0, -196621, 5, 0, -196620, 3, 0, -262136, 4, 0, -262132, 4, 0, -262120, 5, 0, -262119, 5, 0, -262118, 4, 0, -262117, 5, 0, -262116, 5, 0, -262110, 3, 0, -262109, 2, 0, -262108, 3, 0, -262107, 3, 0, -262106, 3, 0, -262101, 536870917, 0, -262100, 536870917, 0, -131095, 536870917, 0, -131094, 536870917, 0, -131091, 5, 0, -131090, 4, 0, -131089, 4, 0, -131088, 4, 0, -131087, 4, 0, -131086, 4, 0, -131085, 5, 0, -131084, 2, 0, -131083, 3, 0, -196600, 4, 0, -196596, 4, 0, -196585, 5, 0, -196584, 5, 0, -196583, 4, 0, -196582, 4, 0, -196581, 4, 0, -196580, 5, 0, -196579, 5, 0, -196574, 3, 0, -196573, 2, 0, -196572, 2, 0, -196571, 2, 0, -196570, 3, 0, -196565, 536870917, 0, -196564, 536870917, 0, -65559, 536870917, 0, -65558, 536870917, 0, -65555, 4, 0, -65554, 4, 0, -65553, 4, 0, -65552, 4, 0, -65551, 4, 0, -65550, 4, 0, -65549, 4, 0, -131064, 4, 0, -131060, 4, 0, -131048, 4, 0, -131047, 4, 0, -131046, 4, 0, -131045, 4, 0, -131044, 4, 0, -131038, 2, 0, -131037, 2, 0, -131036, 2, 0, -131035, 2, 0, -131034, 2, 0, -131029, 536870917, 0, -131028, 536870917, 0, -23, 536870917, 0, -22, 536870917, 0, -19, 4, 0, -18, 4, 0, -17, 4, 0, -16, 4, 0, -15, 4, 0, -14, 4, 0, -13, 4, 0, -65529, 5, 0, -65528, 5, 0, -65527, 5, 0, -65526, 5, 0, -65525, 5, 0, -65524, 5, 0, -65523, 5, 0, -65512, 4, 0, -65511, 4, 0, -65510, 4, 0, -65509, 4, 0, -65508, 4, 0, -65502, 2, 0, -65501, 2, 0, -65500, 2, 0, -65499, 2, 0, -65498, 2, 0, -65493, 536870917, 0, -65492, 536870917, 0, 65513, 0, 0, 65514, 0, 0, 65515, 0, 0, 65516, 0, 0, 65517, 0, 0, 65518, 0, 0, 65519, 0, 0, 65520, 0, 0, 65521, 0, 0, 65522, 0, 0, 65523, 0, 0, 65524, 0, 0, 65525, 0, 0, 65526, 0, 0, 65527, 0, 0, 65528, 0, 0, 65529, 0, 0, 65530, 0, 0, 65531, 0, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65535, 0, 0, 0, 536870912, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 16, 0, 0, 17, 0, 0, 18, 0, 0, 19, 0, 0, 20, 0, 0, 21, 0, 0, 22, 0, 0, 23, 0, 0, 24, 0, 0, 25, 0, 0, 26, 0, 0, 27, 0, 0, 28, 0, 0, 29, 0, 0, 30, 0, 0, 31, 0, 0, 32, 0, 0, 33, 0, 0, 34, 0, 0, 35, 0, 0, 36, 0, 0, 37, 0, 0, 38, 0, 0, 39, 0, 0, 40, 0, 0, 41, 0, 0, 42, 0, 0, 43, 0, 0, 44, 0, 0 )
script = ExtResource( 3 )
_sections_unfolded = [ "Occluder", "Z Index", "tile_set" ]
__meta__ = {
"_edit_lock_": true
}

[node name="npcs" type="Node" parent="."]

[node name="Structures" type="Node" parent="."]

[node name="FloatingIsland" parent="Structures" instance=ExtResource( 4 )]
position = Vector2( -1000, -500 )
tile_data = PoolIntArray( -327682, 536870917, 0, -327681, 536870917, 0, -262147, 536870917, 0, -262146, 536870916, 0, -262145, 536870916, 0, -327680, 536870917, 0, -196611, 536870916, 0, -196610, 536870916, 0, -196609, 536870916, 0, -262144, 536870916, 0, -131075, 536870916, 0, -131074, 536870916, 0, -131073, 536870916, 0, -196608, 536870916, 0, -65540, 536870912, 0, -65539, 536870912, 0, -65538, 536870912, 0, -65537, 536870912, 0, -131072, 536870912, 0, -131071, 536870912, 0, -5, 536870912, 0, -4, 536870912, 0, -3, 1, 0, -2, 1, 0, -1, 1, 0, -65536, 1, 0, -65535, 536870913, 0, -65534, 536870913, 0, 65532, 536870912, 0, 65533, 536870912, 0, 65534, 1, 0, 65535, 1, 0, 0, 536870913, 0, 1, 536870913, 0, 131071, 1, 0, 65536, 536870913, 0 )
_sections_unfolded = [ "Collision", "Transform" ]

[node name="FloatingIsland2" parent="Structures" instance=ExtResource( 4 )]
position = Vector2( 1000, -500 )
tile_data = PoolIntArray( -3, 1, 0, -2, 1, 0, -1, 1, 0, -65536, 1, 0, -65535, 1, 0, 65534, 1, 0, 65535, 1, 0, 0, 536870912, 0, 1, 536870912, 0, 131071, 1, 0, 65536, 536870912, 0 )
_sections_unfolded = [ "Collision", "Transform" ]
speed = 10.0

[node name="FloatingIsland3" parent="Structures" instance=ExtResource( 4 )]
position = Vector2( 200, -500 )
tile_data = PoolIntArray( -262146, 3, 0, -262145, 3, 0, -327680, 3, 0, -327679, 3, 0, -196610, 3, 0, -196609, 4, 0, -262144, 4, 0, -262143, 3, 0, -131074, 3, 0, -131073, 4, 0, -196608, 4, 0, -196607, 3, 0, -65538, 3, 0, -65537, 3, 0, -131072, 3, 0, -131071, 3, 0, -1, 1, 0, -65536, 1, 0, 65535, 1, 0, 0, 536870912, 0 )
_sections_unfolded = [ "Collision", "Transform" ]
is_active = false
speed = 0.0

